(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/login/main"],{"0639":function(t,n,e){},"0688":function(t,n,e){"use strict";(function(t){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("2f62"),o=i(e("e5fb")),r=(i(e("5ee4")),e("bd71"));function i(t){return t&&t.__esModule?t:{default:t}}function u(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{},a=Object.keys(e);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(e).filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.forEach(function(n){c(t,n,e[n])})}return t}function c(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}var s={computed:u({},(0,a.mapState)(["count"])),data:function(){return{openid:"55",password:"5"}},methods:{login:function(){var n=this;r.fly.post(r.url+"/login",{openid:encodeURIComponent(this.openid),password:this.sha1(encodeURIComponent(this.password))}).then(function(e){if(n.judage())if(e.data.data.data.msg.includes("登录成功")){t.showToast({title:"登录成功",icon:"success",duration:1200,mask:!0});var a=e.data.data.data.token;try{o.default.set("token",a)}catch(i){console.log("token存储失败:",i)}var r={openid:encodeURIComponent(n.openid),avatarUrl:e.data.data.data.avatarurl};o.default.set("userInfo",r),t.navigateBack({delta:1})}else t.showToast({title:e.data.data.data.msg,icon:"none",duration:1200,mask:!0})}).catch(function(n){t.showToast({title:"登录失败",icon:"none",duration:1200,mask:!0})})},signup:function(){var n=this;r.fly.post(r.url+"/signup",{openid:encodeURIComponent(this.openid),password:encodeURIComponent(this.password)}).then(function(e){n.judage()&&(e.data.data.data.includes("成功")?t.showToast({title:e.data.data.data,icon:"success",duration:1200,mask:!0}):t.showToast({title:e.data.data.data,icon:"none",duration:1200,mask:!0}))}).catch(function(n){t.showToast({title:"注册失败",icon:"none",duration:1200,mask:!0})})},sha1:function(t){return e(t);var n;function e(t){return s(a(c(t)))}function a(t){for(var n=t,e=Array(80),a=1732584193,c=-271733879,s=-1732584194,d=271733878,f=-1009589776,l=0;l<n.length;l+=16){for(var p=a,v=c,m=s,h=d,b=f,g=0;g<80;g++){e[g]=g<16?n[l+g]:u(e[g-3]^e[g-8]^e[g-14]^e[g-16],1);var w=i(i(u(a,5),o(g,c,s,d)),i(i(f,e[g]),r(g)));f=d,d=s,s=u(c,30),c=a,a=w}a=i(a,p),c=i(c,v),s=i(s,m),d=i(d,h),f=i(f,b)}return new Array(a,c,s,d,f)}function o(t,n,e,a){return t<20?n&e|~n&a:t<40?n^e^a:t<60?n&e|n&a|e&a:n^e^a}function r(t){return t<20?1518500249:t<40?1859775393:t<60?-1894007588:-899497514}function i(t,n){var e=(65535&t)+(65535&n),a=(t>>16)+(n>>16)+(e>>16);return a<<16|65535&e}function u(t,n){return t<<n|t>>>32-n}function c(t){for(var n=1+(t.length+8>>6),e=new Array(16*n),a=0;a<16*n;a++)e[a]=0;for(a=0;a<t.length;a++)e[a>>2]|=t.charCodeAt(a)<<24-8*(3&a);return e[a>>2]|=128<<24-8*(3&a),e[16*n-1]=8*t.length,e}function s(t){for(var e=n?"0123456789ABCDEF":"0123456789abcdef",a="",o=0;o<4*t.length;o++)a+=e.charAt(t[o>>2]>>8*(3-o%4)+4&15)+e.charAt(t[o>>2]>>8*(3-o%4)&15);return a}},judage:function(){if(this.openid&&this.password)return!0;t.showToast({title:"请填写有效的账号与密码",icon:"none",duration:1200,mask:!0})}}};n.default=s}).call(this,e("543d")["default"])},"16fb":function(t,n,e){"use strict";e.r(n);var a=e("0688"),o=e.n(a);for(var r in a)"default"!==r&&function(t){e.d(n,t,function(){return a[t]})}(r);n["default"]=o.a},4371:function(t,n,e){"use strict";e.r(n);var a=e("8eef"),o=e("16fb");for(var r in o)"default"!==r&&function(t){e.d(n,t,function(){return o[t]})}(r);e("f49e");var i=e("2877"),u=Object(i["a"])(o["default"],a["a"],a["b"],!1,null,"1ac4ad15",null);n["default"]=u.exports},"57f1":function(t,n,e){"use strict";var a=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("p",{staticClass:"card"},[t._v(t._s(t.text))])},o=[];e.d(n,"a",function(){return a}),e.d(n,"b",function(){return o})},"5ee4":function(t,n,e){"use strict";e.r(n);var a=e("57f1"),o=e("b6fb");for(var r in o)"default"!==r&&function(t){e.d(n,t,function(){return o[t]})}(r);e("c3a8");var i=e("2877"),u=Object(i["a"])(o["default"],a["a"],a["b"],!1,null,null,null);n["default"]=u.exports},"8eef":function(t,n,e){"use strict";var a=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"container"},[e("div",[e("span",[t._v("账号:")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.openid,expression:"openid"}],staticClass:"input",attrs:{placeholder:"请输入账号",eventid:"7d8f7c74-0"},domProps:{value:t.openid},on:{input:function(n){n.target.composing||(t.openid=n.target.value)}}})]),e("div",[e("span",[t._v("密码:")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"input",attrs:{placeholder:"请输入密码",eventid:"7d8f7c74-1"},domProps:{value:t.password},on:{input:function(n){n.target.composing||(t.password=n.target.value)}}})]),e("button",{attrs:{eventid:"7d8f7c74-2"},on:{click:t.login}},[t._v("登 录")]),e("button",{attrs:{eventid:"7d8f7c74-3"},on:{click:t.signup}},[t._v("注册")])],1)},o=[];e.d(n,"a",function(){return a}),e.d(n,"b",function(){return o})},aa90:function(t,n,e){"use strict";e("6d72");var a=r(e("b0ce")),o=r(e("4371"));function r(t){return t&&t.__esModule?t:{default:t}}Page((0,a.default)(o.default))},b6fb:function(t,n,e){"use strict";e.r(n);var a=e("e755"),o=e.n(a);for(var r in a)"default"!==r&&function(t){e.d(n,t,function(){return a[t]})}(r);n["default"]=o.a},c3a8:function(t,n,e){"use strict";var a=e("0639"),o=e.n(a);o.a},cc46:function(t,n,e){},e755:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a={props:["text"]};n.default=a},f49e:function(t,n,e){"use strict";var a=e("cc46"),o=e.n(a);o.a}},[["aa90","common/runtime","common/vendor"]]]);